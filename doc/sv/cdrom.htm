<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
              "http://www.w3.org/TR/REC-html40/loose.dtd">
<head><title>Cd-rom</title></head>
<body background="../images/gwback.jpg">
<table border=0 width="100%">
<tr>
<td>
<a href="http://pauillac.inria.fr/~ddr/GeneWeb/"><img width=96
height=108 src="../images/gwlogo.png" align=left border=0 alt=GeneWeb></a>
</td>
<td align=left>
<h1><font color=#2f6400>GeneWeb - Skapa en cd-rom skiva</font></h1>
</td>
</tr>
</table>
</font>
<br><br>

Du kan skapa en cd-rom skiva med din databas och <font
color=#2f6400><b>GeneWeb</b></font> på: det gör det möjligt för
dig att distribuera en direkt användbar databas.

<p>

Detta kapitel förklarar de nödvändiga stegen för att göra det. Denna
installation har fördelen att användaren inte behöver installera
någonting på hårddisken, ingen mjukvara inte heller databasen.

<p>

Här är operationerna du måste göra:

<p>

<ol>

<li> Gör en upprensning av din databas. Om du har gwsetup, se "huvud menyn". Du kan också göra det med kommandot gwu
och gwc (gwu extraherar databasen till en källfil och gwc återskapar den).

<p>

<font size=-1>Anmärkning: detta steg är inte absolut nödvändigt, men det gör
det möjligt att distribuera en databas vilken är minnesoptimerad och har
optimerad åtkomsthastighet. Men om din databas kommer från en GEDCOM-fil
eller från en <font color=#2f6400><b>GeneWeb</b></font> källfil och du
inte hade gjort några ändringar i databasen, är det inte nödvändigt.
</font>

<p>

<li> Om du vill att blodsbanden ska visas på de personliga
sidorna och i släktskapsberäkningar, kör programmet för beräkning
av blodsbanden. Under gwsetup, se "huvud menyn". Detta kan också
göras med kommandot consang.

<p>

<font size=-1>Anmärkning: detta steg är också valfritt. Om du inte gör det,
kommer släktskapen att fungera, men blodsbanden kommer inte att visas.
</font>

<p>

<li> Gå in i din databas och gör släktskapsberäkningar, till exempel
mellan en far och hans son.

<p>

<font size=-1>Anmärkning: detta är också ett valfritt steg, för att optimera
åtkomsten till databasen. Den första släktskapsberäkningen skapar en fil
(som heter tstab) i databasen, vilken gör det möjligt för de framtida
släktskapsberäkningarna att gå fortare. Om denna fil inte hade skapats, blir
det omöjligt att göra det senare på cd-rom skivan och släktskapsberäkningarna
kommer att gå saktare.
</font>

<p>

<li> Skapa en katalog för de filer som du kommer att lägga på
din cd-rom skiva. Denna katalog kallas "destination" i den följande
texten.

<p>

<li> Överför din databas till destinationskatalogen: din databas är
en katalog vars namn slutar med ".gwb". Till exempel, om din databas
heter "xyz", heter katalogen "xyz.gwb". Denna katalog finns i
databasens katalog (beroende på ditt OS: Windows, MacOS X, Unix, Linux
rpm, Linux Debian...).

<p>

<li> Lägg till en konfigurations fil i destinationskatalogen. Om du
har någon som passar dig, använd den, annars skapa en.
Konfiguations filen är en textfil som slutar med ".gwf": om din databas
heter "xyz", heter filen "xyz.gwf". Om denna fil redan finns, 
ligger den i databasens katalog.

<p>

I konfigurationsfilen, lägg till ett påhittat "wizard" passord, genom att lägga
till raden:

<pre>
     wizard_passwd=a
</pre>

<p>

<font size=-1>Anmärkning: denna operation är valfri, men den gör det möjligt
att undvika att det föreslås "uppdatering" på de personliga sidorna,
en uppdatering som inte skulle fungera ändå på en skrivskyddad cd-rom.
Varning: om du skapar en konfigurationsfil, kontrollera att filändelsen
".txt" <em>inte</em> läggs till som vissa OS felaktigt gör: filändelsen ska vara .gwf och ingenting annat.
</font>

<p>

<li> Kopiera den körbara filen "gwd" till destinationskatalogen. På en del
system, har den filändelsen ".exe". Varning: det kan finnas flera filer
som heter "gwd" i din <font color=#2f6400><b>GeneWeb</b></font>
installation. Den rätta filen är en ganska stor fil (mer än 1 Mb). Den ligger
normalt under katalogen som heter "gw".

<p>

<li> Kopiera katalogerna "lang", "etc" och "images" (och deras innehåll)
till destinationskatalogen, de måste vara placerade i samma
katalog där du hittade gwd.

<p>

<font size=-1>Anmärkning: dessa kataloger är nödvändiga.
De innehåller filer som används av gwd, speciellt för alla språken och för
visning av vissa sidor.</font>

<p>

<li> I katalogen "lang" i destinationskatalogen, editera
filen som heter "start.txt" och radera gruppen av rader vilken innehåller
länkar för "wizard" access. Den startar med någonting så här:

<pre>
   &lt;td align=center&gt;[
   af: &lt;a href="%sw=w"&gt;&lt;em&gt;Medewerkers&lt;/em&gt;&lt;/a&gt; toegang&lt;br&gt; (password)
   ca: acc&eacute;s &lt;a href="%sw=w"&gt;&lt;em&gt;administrador&lt;/em&gt;&lt;/a&gt;&lt;br&gt; (clau)
</pre>

och slutar med:

<pre>
   pl: &lt;a href="%sw=w"&gt;&lt;em&gt;"Wizard"&lt;/em&gt;&lt;/a&gt; dostêp&lt;br&gt; (has³o)
   pt: Entrada &lt;a href="%sw=w"&gt;&lt;em&gt;feiticeiro&lt;/em&gt;&lt;/a&gt;&lt;br&gt; (palavra chave)
   sv: &lt;a href="%sw=w"&gt;&lt;em&gt;Uppdaterings&lt;/em&gt;&lt;/a&gt; tilltr&auml;de&lt;br&gt; (passord)
   ]&lt;br&gt;&lt;/td&gt;
</pre>

<p>

<font size=-1>Detta steg är inte obligatoriskt, men det undviker att
välkomstsidan föreslår en wizard access, vilken inte skulle fungera ändå.
</font>

<p>

<li><b>Viktigt steg</b>. Den körbara filen gwd skapar filer i sin
nuvarande katalog. Om den inte kan göra det, kan det blockera dess operation
(speciellt under Windows, kommer det inte att fungera alls). För att
programmet ska kunna använda hård disken måste en option sättas (notera:
dessa filer är inte stora, de är även temporära och om du raderar dem
kommer det inte att förstöra någonting för gwd).

<p>

För att fixa det, skapa en textfil med namnet "gwd.arg" (varning: inte "gwd.arg.txt"
utan endast "gwd.arg") och skriv i filen:

<pre>
   Om du förbereder en cd-rom för Windows:
          -wd
          c:\temp\geneweb
   Om den är för Unix eller MacOS X:
          -wd
          /tmp/geneweb
</pre>

<p>

<li>Om din databas har bilder, lägg dem i katalogen images,
underkatalogen innehåller namnet för din databas ("images/xyz" om
din databas heter "xyz").

<p>

<li> Efter alla dessa steg, har du en minimal installation, som kräver
av användaren att starta gwd själv och öppna URL adressen för att komma i kontakt
med databasen. Du kan förbättra det genom att skriva HTML filer och/eller
scripts (shell, batch) som startar allting autmatiskt. Du kan också lägga in flera databaser, andra HTML filer och så vidare.

<p>

<font size=-1>

Fråga inte mig hur man gör en cd-rom skiva som startar allt det här automatiskt
när du sätter i den i datorn: det finns säkert trick för att göra det
men jag vet inte hur.

<p>

Anmärkning: om du vill att din databas ska vara läsbar under andra
operativ system än det du använder, kan du skapa en katalog för
varje OS och lägga rätt OS version av gwd i den. Självklart, måste du
ha laddat ner versionerna av <font color=#2f6400><b>GeneWeb</b></font>
för alla dessa system. Du måste också titta på filerna "gwd.arg"
(en för varje gwd fil) och ändra i dem så att sökvägen
blir till databasen (optioner -hd och -bd för gwd).
</font>

<p>

<li>Innan du skapar din cd-rom skiva, gör ett test. För att göra det, ändra
så att destinationskatalogen och alla underkataloger blir skriv skyddade
Starta sedan kommandot gwd (genom att dubbelklicka eller genom DOS kommandon).
Öppna i din webbläsare adressen
http://127.0.0.1:2317/xyz (om din databas heter xyz) och kontrollera
om det fungerar.

<p>

<li>Om det är OK, skapa din cd-rom skiva med destinationskatalogen och dess
innehåll.

</ol>

<p>

<p>
<hr>
<br>
<center>Tillbaka till <a href="diruse.htm">bruksanvisningen</a></center>

<p><hr><font size=-1><em>Copyright (c) 1998-2005 INRIA -
GeneWeb</em></font><br>

</body>
