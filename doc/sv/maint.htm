<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>GeneWeb - Underhåll</TITLE>
<META content="text/html; charset=windows-1252" http-equiv=Content-Type>
<META content="MSHTML 5.00.2014.210" name=GENERATOR>
</HEAD>
<body background="../images/gwback.jpg">
<table border=0 width="100%">
<tr>
<td>
<a href="http://pauillac.inria.fr/~ddr/GeneWeb/"><img width=96
height=108 src="../images/gwlogo.png" align=left border=0 alt=GeneWeb></a>
</td>
<td align=left>
<h1><font color=#2f6400>GeneWeb - Underhåll</font></h1>
</td>
</tr>
</table>
</font>
<br><br>
<P>Denna sida beskriver vissa viktiga "tricks" för underhållet av din databas. 
</P>
<UL>
  <LI><A 
  href="maint.htm#Clea">1.</A> 
  Rensa upp. 
  <LI><A 
  href="maint.htm#Rena">2.</A> 
  Ändra namn. 
  <LI><A 
  href="maint.htm#Save">3.</A> 
  Säkerhetskopiera. </LI></UL>

Om du använder <b><a href="gwsetup.htm">gwsetup</a></b>, kan du göra
dessa operationer med det. Nedanstående metod använder DOS-fönster.
<HR>
<H3><font color=#2f6400><A name=Clea>1. Rensa upp</A> </font></H3>
<P>När du modifierar din databas med din webbläsare, kan vissa små problem 
uppträda: </P>
<UL>
  <P>
  <LI>Om du gjorde många uppdateringar, blir åtkomsten till databasen gradvis 
  slöare. 
  <P></P>
  <LI>Om du lägger till nya familjer eller du modifierar personer, visas 
  blodsbandet inte längre eller kan vara inkorrekt. 
  <P></P>
  <LI>Om du tar bort personer och familjer, återhämtas inte ockuperat utrymme: 
  således när du tar bort en person, visar välkomst sidan alltid samma antal 
  personer. </LI></UL>
<P>Databasen ska sedan helst rensas. </P>
<UL>
  <LI>Den första resningen kan göras med kommandot "consang" vilket omberäknar 
  blodsbanden för alla i databasen och återställer den ursprungliga åtkomst 
  hastigheten. Om din databas heter "foo", starta ett DOS fönster (se sidan 
  "Hur man <A 
  href="start.htm">kommer 
  igång</A> med GeneWeb") och skriv: </LI></UL><PRE>     	consang foo</PRE>
<DIR>
<P>Detta kommando kan ta några sekunder eller minuter, beroende på storleken av 
databasen. En räknare visas... Notera att under denna operation, är 
uppdateringen stoppad: om du trycker "Ok" på en sida, kommer ett meddelande tala 
om för dig att försöka igen. </P>
<P>Under Unix (under Windows, fungerar det inte alltid, jag vet inte varför), 
kan du stoppa detta kommando vid vilken tidpunkt som helst, genom att trycka 
"Control-C" i DOS fönstret. Beräkningen av blodsbanden blir inte färdig men 
databasen blir upprensad. Du kommer att kunna starta "consang" igen senare, den 
kommer att återuppta beräkningarna där den stoppades (förutom om du har gjort 
ändringar i familjer, i vilket fall den kommer att starta om från början). 
</P></DIR>
<UL>
  <LI>Ett bättre sätt att rensa upp databaser består i att använda "gwu" and 
  "gwc". Upprensningen skapar en alldeles ny databas där det utrymme som bestod 
  av borttagna personer och familjer har återtagits. I ett DOS fönster, skriv 
  för databasen "foo": </LI></UL><PRE>	     gwu foo &gt; foo.gw</PRE>
<DIR>
<P>och sedan: </P></DIR><PRE>	     gwc foo.gw -o bar
</PRE>
<DIR>
<P>Det är rekommenderat att inte skapa en databas med samma namn, därför att om 
"gwu" eller "gwc" inte fungerade bra, riskerar du att förlora allting. Här 
kallade vi den "bar". </P>
<P>Kontrollera att "bar" är korrekt och om den är det, radera databasen "foo" 
(genom att radera katalogen "foo.gwb"), döp sedan om "bar" till "foo" (genom att 
döpa om "bar.gwb" till "foo.gwb "). Se hur man gör det i det kommande kapitlet. 
</P>
<P>Efter anrop till "gwc", finns det filer kvar med filändelsen ".gwo". Du kan 
ta bort dem. Radera även filerna ".gw", förutom om du vill spara dem som 
säkerhetskopior.</P>
<P>Om du vill att blodsbandsberäkningen skall fungera, är det också nödvändigt 
att köra "consang" igen på den nya databasen. </P></DIR>
<DIR></DIR>
<HR>
<H3><font color=#2f6400><A name=Rena>2. Ändra namn</A></font></H3>
<P>Databaserna i <FONT COLOR=#2f6400><B>GeneWeb</B></FONT> är kataloger med filändelsen ".gwb". Om du 
helt enkelt ändrar namnet för katalogen "bar.gwb" till "foo.gwb", kommer din 
databas vilken hette "bar" nu att heta "foo". </P>
<P>För att göra detta, har du att välja mellan ett fönster med ikoner, om ditt 
system har ett sådant eller ett DOS fönster. </P>
<P>
<UL>
  <LI>Med ett ikonfönster, för att ändra "bar.gwb" till "foo.gwb": 
  <P>
  <UL>
    <LI>Öppna ett fönster för katalogen med din databas. 
    <LI>Radera "foo.gwb", om den existerar. 
    <LI>Döp om "bar.gwb" till "foo.gwb".</LI></UL></LI></UL>
<P>
<UL>
  <LI>Med ett DOS fönster: 
  <P>
  <UL>
    <LI>Under Unix: <PRE>    rm -rf foo.gwb
    mv bar.gwb foo.gwb
</PRE>
    <LI>Under Windows: <PRE>    del foo.gwb\*.*
    rmdir foo.gwb
    move bar.gwb foo.gwb
</PRE></LI></UL></LI></UL>
<UL></UL>
<HR>
<H3><font color=#2f6400><A name=Save>3. Säkerhetskopiera</A> </font></H3>
<P>Datorer är inte helt pålitliga maskiner. Det är viktigt att göra 
säkerhetskopior av dina data ibland, genom att kopiera dem till ett annat media 
(disketter till exempel). </P>
<P>Det kan också vara intressant att spara mellanliggande versioner för att 
återvända till senare. </P>
<P>För att säkerhetskopiera databasen "foo", gör du helt enkelt en kopia av 
katalogen "foo.gwb" till ett annat medium (eller någon annanstans på disken om 
du helt enkelt vill spara den som en mellanliggande version). </P>
<P>Men det finns ett smartare sätt att göra en säkerhetskopia: spara din databas 
som en källfil. För databasen "foo", skriv i ett DOS fönster: </P><PRE>     gwu foo &gt; foo.gw</PRE>
<P>Kopiera filen "foo.gw" till det andra mediet eller någon annanstans på 
disken. Du kan också ge filen ett annat namn (men alltid med filändelsen ".gw") 
för arkivering. </P>
<P>Säkerhetskopian som ".gw" filen har flera fördelar: </P>
<DIR></DIR>
<UL>
  <P>
  <LI>Det är enklare, eftersom det är endast en fil, medan databasen är en hel 
  katalog. 
  <P></P>
  <LI>Storleken är mindre. 
  <P></P>
  <LI>Man kan återskapa den med vilken annan "gwc", och även använda en framtida 
  version av <FONT COLOR=#2f6400><B>GeneWeb</B></FONT>. 
  <P></P>
  <LI>Eftersom det är en text, är den läsbar med en editor (Word, Emacs, osv.), 
  det kan vara användbart. En genealogi mjukvara om 3 århundraden kan återskapa 
  din databas. 
  <P></P>
  <LI>Man kan göra jämförelser mellan olika säkerhetskopierade versioner och den 
  nuvarande versionen. </LI></UL>
<P>För att återskapa databasen "foo" från filen "foo.gw", skriv: </P><PRE>     gwc foo.gw -o foo</PRE>

<p><hr><br>
<center>Tillbaka till <A href="diruse.htm">bruksanvisningen</center>

<P>
<HR>
<FONT size=-1><EM>Copyright (c) 1998-2005 INRIA - GeneWeb</EM></FONT><BR></BODY></HTML>
