%doctype;
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <!-- $Id: perso.txt,v 5.10 2007/06/12 11:48:24 ddr Exp $ -->
  <!-- Copyright (c) 1998-2007 INRIA -->
  <!-- Modified mickroue(a)yahoo.fr 20121128 templ=templm -->
  <title>%first_name; %surname;</title>
  <meta name="robots" content="none"%/>
  <meta name="format-detection" content="telephone=no"%/>
  <meta http-equiv="Content-Type" content="text/html; charset=%charset;"%/>
  <meta http-equiv="Content-Style-Type" content="text/css"%/>
  <link rel="shortcut icon" href="%image_prefix;/favicon_gwd.png"%/>
  %include.summary;
  %include.css;
  <style type="text/css">
    %if;(evar.wide = "on")
      .fam1, .fam2, .person_content {width: 99%%;}
      .image_sheet {font-size: 89%%;}
    %else;
       .fam1, .fam2, .person_content {width: 49%%; min-width: 300px;}
       .image_sheet {font-size: 71%%;}
    %end;
  </style>
  %base_header;
  %include.perso_accesskey;
</head>


%( <!-- Begin define --> %)
  %let;birth_symbol;%if;(bvar.birth_symbol != "")%bvar.birth_symbol;%else;&deg;%end;%in;
  %let;death_symbol;%if;(bvar.death_symbol != "")%bvar.death_symbol;%else;&dagger;%end;%in;
  %let;l_child;%if;(bvar.always_surname = "yes" and evar.always_surname != "no")child%else;child_name%end;%in;

  %define;init_count(prev_count)
    %reset_count;
    %for;i;0;prev_count;
      %incr_count;
    %end;
  %end;
   
  %define;letter(xx)
    %apply;nth%with;
      /A/B/C/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S/T/U/V/W/X/Y/Z%and;
      xx%end;
  %end;

  %define;link_dates(xx)
    %if;(wizard and not cancel_links)
      <a id="xx_%xx.index;" href="%prefix;m=MOD_IND;i=%xx.index;"
      title="[modify::person/persons]0" onclick="window.open(this.href); return false;">%nn;
      %if;(xx.dates != "")%nn;
        %xx.dates;%nn;
      %else; %birth_symbol;%nn;
      %end;%nn;
      </a>%nn;
    %else;
      %xx.dates;%nn;
    %end;
  %end;

  %define;link_marriage(xx)
    %let;him;%if;(marriage_date.year > 0 and xx.birth_date.year > 0)
      [him/her]0 %expr(marriage_date.year - xx.birth_date.year) [years old]%end;%in;
    %let;her;%if;(marriage_date.year > 0 and xx.spouse.birth_date.year > 0)
      [him/her]1 %expr(marriage_date.year - xx.spouse.birth_date.year) [years old]%end;%in;
    <abbr title="%him;, %her;
          %if;(wizard and not cancel_links) ; [modify::family/families]0%end;">
    %if;(wizard and not cancel_links)
      <a id="f%family.index;" href="%prefix;m=MOD_FAM;i=%family.index;;ip=%index;"
      onclick="window.open(this.href); return false;">&amp;%marriage_date.year;</a>
    %elseif;(on_marriage_date != "")
      &amp;%marriage_date.year;
    %else;
      &amp;
    %end;
    </abbr>
  %end;

  %define;a_title(xx)
    %if;(xx.father_age_at_birth != "") [father/mother]0 %xx.father_age_at_birth;, %end;
    %if;(xx.mother_age_at_birth != "") [father/mother]1 %xx.mother_age_at_birth;%end;
    %if;(xx.computable_death_age) ; %death_symbol%xx.death_age;%end;
    %if;(xx.computable_age) ; %birth_symbol;%xx.age;%end;
  %end;

  %define;link_name(xx)
    %if;(cancel_links or xx.is_restricted)
      %xx;%nn;
    %else;
      <a href="%prefix;%xx.access;;wide=%evar.wide;;maxlev=%evar.maxlev;;image=%evar.image;;spouse=%evar.spouse;"
      title="%apply;a_title("xx")">%xx;</a>%nn;
    %end;
  %end;

  %define;link_name1(xx,yy,zz)
    %if;(cancel_links or xx.is_restricted)
      %yy;%nn;
    %else;
      <a href="%prefix;%xx.access;;wide=%evar.wide;;maxlev=%evar.maxlev;;image=%evar.image;;spouse=%evar.spouse;"
      title="%apply;a_title("xx")" zz>%yy;</a>%nn;
    %end;
  %end;

  %define;link_image(xx)
    <a onclick="window.open(this.href); return false;" class="image"
      href="%xx.image_html_url;">
      <img src="%xx.image_url;" alt="[image/images]0"%/>
    </a>
  %end;

  %define;somebody(xx)
    %apply;link_name("xx")
    %xx.title;
    %apply;link_dates("xx")
  %end;

  %define;somebody1(xx,yy,zz)
    %apply;link_name1("xx","yy","zz")
    %xx.title;
    %apply;link_dates("xx")
  %end;

  %define;child_long_info(curlev,maxlev)
    %let;next_chi;chi_%if;(nb_children != child_cnt)%family_cnt;_%expr(child_cnt + 1)%else;1_1%end;%in;
    %apply;somebody1%with;
      child%and;
      %l_child;%and;
      %if;(curlev = 0)id="chi_%family_cnt;_%child_cnt;"
        onkeypress="javascript:return acc_key(event,'sib_1','spo_%family_cnt;','%next_chi;','child_%child.index;','','','');"
      %end;
    %end;
    %if;(has_families)
      %if;(evar.image="on")
        %foreach;family;
            %if;(evar.spouse != "off")  
              <div class="image_sheet" style="font-size: 80%%;">
                  %if;(spouse.has_image)%apply;link_image("spouse")<br%/>%end;
                  %apply;somebody("spouse")
              </div>
            %end;
            %if;(curlev < maxlev)
              %if;(has_children)
                %foreach;child;
                  <div class="image_sheet" style="font-size: 75%%;margin-left: 8%%; border: dashed 1px %highlight;;">
                    %if;(child.has_image)%apply;link_image("child")<br%/>%end;
                    %apply;child_long_info(curlev+1,maxlev)
                  </div>
                %end;
              %end;
            %end;
        %end;
      %else;
        %foreach;family;
          %if;(evar.spouse != "off")
            <small>
              %if;(self.sex = 0)
                %apply;link_marriage("self")
              %else;
                %apply;link_marriage("self.spouse")
              %end;
              %sp;%apply;somebody("spouse")
            </small>
          %end;
          %if;(curlev < maxlev)
            %if;(has_children)
              <ol>
              %foreach;child;
                <li class=%if;(has_sosa)"border_sosa"%else;"border_family_%has_families; border_sex_%sex;"%end;>%apply;child_long_info(curlev+1,maxlev)</li>
              %end;
              </ol>
            %end;
          %end;
        %end;
      %end;
    %end;
  %end;

  %define;children_list()
    %if;has_children;
      %if;(evar.image="on")
        %foreach;child;
            <div class="image_sheet ">
                %if;(has_image)%apply;link_image("self")<br%/>%end;
                %apply;child_long_info(0,evar.maxlev)
            </div>
        %end;
      %else;
        <ol>
        %foreach;child;
          <li class=%if;(has_sosa)"border_sosa"%else;"border_family_%has_families; border_sex_%sex;"%end;>
            %apply;child_long_info(0,evar.maxlev)
          </li>
        %end;
        </ol>
      %end;
    %end;
  %end;

  %define;advanced(xx,zz)
    %if;(not cancel_links and bvar.hide_advanced_request != "yes")
      <a class="date" href="%prefix;m=H;v=advanced;xx=zz;focus=xx;birth1_yyyy=%birth_date.year;;death2_yyyy=%death_date.year;" title="[advanced request]">zz</a>%nn;
    %else;
      zz%nn;
    %end;
  %end;

  %define;type_marriage()
     %if;are_married;[*married]
     %elseif;are_not_married;[*not married]
     %elseif;are_engaged;[*engaged]
     %elseif;is_no_sexes_check;[*not married]
     %elseif;is_no_mention;~
     %end;
  %end;

  %define;marriage_date_place()
    %if;(marriage_place = "")
      %if;(on_marriage_date = "")
      %else; <em>%on_marriage_date;</em>%nn;
      %end;
    %else;
      %if;(on_marriage_date = "")<em> [in (place)] %apply;advanced("marriage_place",marriage_place)</em>%nn;
      %else; <em>%on_marriage_date; [in (place)] %apply;advanced("marriage_place",marriage_place)</em>%nn;
      %end;
    %end;
  %end;

  %define;content_marriage(xx)
    %if;are_divorced;… [divorced]%divorce_date;%nn;
    %elseif;are_separated;… [separated]%nn;
    %end;
    %if;has_witnesses;
      %if;cancel_links;
         ; [witness/witnesses]w :%sp;%nn;
      %else;
        %reset_count;%nn;
         ; <a href="%prefix;spouse=on;m=RLM;image=%evar.image;;%nn;
        %if;(not browsing_with_sosa_ref)
          %foreach;witness;%nn;
            %incr_count;%nn;
            i%count;=%witness.index;;%nn;
            t%count;=%expr((count / 2) + 1);%nn;
            %incr_count;%nn;
            i%count;=%index;;%nn;
          %end;
          t%count;=0;%nn;
        %else;
          %foreach;witness;
            %incr_count;%nn;
            i%count;=%witness.index;;%nn;
            t%count;=%expr((count / 2) + 1);%nn;
            %incr_count;%nn;
            i%count;=%sosa_ref.index;;%nn;
          %end;
          t%count;=sosa_1;%nn;
        %end;
        %incr_count;%nn;
        i%count;=%xx.index;;%nn;
        t%count;=%apply;capitalize(nth([husband/wife],xx.sex));%nn;
        %incr_count;%nn;
        i%count;=%spouse.index;;%nn;
        t%count;=%apply;capitalize(nth([husband/wife],spouse.sex));%nn;
        " title="[relationship computing]"><em>[witness/witnesses]w :%sp;</em></a>%nn;
      %end;
      %foreach;witness;
        %if;not is_first;, %end;
        %apply;somebody("witness")%nn;
        %( <!-- Begin personalization mickroue --> %)
        %if;(witness.has_qualifiers and witness.title=", <em>Cousin</em>")
            <a onclick="window.open(this.href); return false;" href="http://gw.geneanet.org/index.php3?b=%witness.qualifier&amp;lang=fr;m=N;v=%surname;" title="Arbre en ligne sur Geneanet">@</a>%nn;
        %end;%nn;
        %( <!-- End personalization mickroue --> %)
      %end;%nn;
    %end;
    %if;has_comment; ;%sp;%comment;%end;
  %end;

  %define;content_family(xx,yy)
    %if;(evar.image="on")
      <div class="image_sheet">
        %if;(xx.has_image)%apply;link_image("xx")<br%/>%end;
        %xx;%xx.title; %xx.dates;
      </div>
      <div class="image_sheet">
        %if;(xx.sex = 0)
          %apply;link_marriage("xx")
        %else;
          %apply;link_marriage("xx.spouse")
        %end;
      </div>
      <div class="image_sheet" style="clear:right;">
        %if;(yy.has_image)%apply;link_image("yy")<br%/>%end;
        %apply;somebody1%with;yy%and;yy%and;%end;
      </div>
    %else;
      %let;next_spo;spo_%if;(nb_families != family_cnt)%expr(family_cnt + 1)%else;1%end;%in;
      %if;(xx.sex = 0)
        %apply;link_marriage("xx")
      %else;
        %apply;link_marriage("xx.spouse")
      %end;%sp;
      %apply;somebody1%with;
        yy%and;
        yy%and;
        id="spo_%family_cnt;"
        onkeypress="javascript:return acc_key(event,'sib_1','%next_spo;','chi_%family_cnt;_1','spouse_%spouse.index;','','','f%family.index;');"
      %end;
    %end;
    <br style="clear: both;"%/>
    %apply;type_marriage()
    %apply;marriage_date_place()
    %apply;content_marriage("xx")
    <br%/>
    %apply;children_list()
  %end;

  %define;parents(xx,yy,zz)
    %foreach;xx.parent;
        %let;l_sosa;%if;parent.is_female;%expr(zz + 1)%else;%zz;%end;%in
        <span %if;(parent.has_sosa)class="color_sosa"%end;>
          yy
          %if;(parent.has_siblings)
            &diams;
          %elseif;(parent.has_parents)
            &loz;
          %elseif;(wizard and not cancel_links)
            <a id="add_par_%l_sosa;" style="color:#FF0000;" href="%prefix;m=ADD_PAR;ip=%parent.index;"
               title="[add::parents]" onclick="window.open(this.href); return false;">-</a>
          %else;
            -
          %end;
        </span>
        %apply;link_name1%with;
          parent%and;
          parent%and;
          id="par_%l_sosa;"
          onkeypress="javascript:return acc_key(event,'sib_1','spo_1','chi_1_1','parent_%parent.index;','add_par_%l_sosa;','par_%l_sosa;','par_%l_sosa;');"
        %end;
        %apply;link_dates("parent")
        <br%/>
    %end;
  %end;

  %define;anc_families()
    %if;has_parents;
    <div class="fam2">
      <div class="ancestors">
        <h3>[*parents]%if;(father.has_parents or mother.has_parents), [the grandparents]%end;</h3>
        %if;father.has_parents;<small>%apply;parents("father","&nbsp;&nbsp;&nbsp;&nbsp;",4)</small>%end;
        %apply;parents("self","",2)
        %if;mother.has_parents;<small>%apply;parents("mother","&nbsp;&nbsp;&nbsp;&nbsp;",6)</small>%end;
      </div>
      %if;has_siblings;
        <div class="siblings">
        <h3>[*siblings]</h3>
        <ol>
        %foreach;father.child;
          <li class=%if;(has_sosa)"border_sosa"%else;"border_family_%has_families; border_sex_%sex;"%end;>
            %if;is_self;<em>%end;
            %let;next_sib;sib_%expr(child_cnt + 1)%in;
            %apply;link_name1%with;
              child%and;
              %l_child;%and;
              id="sib_%child_cnt;"
              onkeypress="javascript:return acc_key(event,'%next_sib;','spo_1','chi_1_1','child_%child.index;','','','');"
            %end;
            %if;is_self;</em>%end;
            %apply;link_dates("child")
          </li>
        %end;
        </ol>
        </div>
      %end;
    </div>
    %elseif;(wizard and not cancel_links and first_name != "?" and surname != "?")
       <div class="fam2"><a id="add_par" class="button" href="%prefix;m=ADD_PAR;ip=%index;" title="[add::parents] (L)" accesskey="L" onclick="window.open(this.href); return false;">[*add::parents] (L)</a></div>
    %end;
  %end;

  %define;relation_computing()
      %if;cancel_links;
        %apply;capitalize(relation_type) :%nn;
      %else;
        %reset_count;
        <a href="%prefix;spouse=on;m=RLM;image=%evar.image;;%nn;
        %if;has_relation_him;
          %incr_count;
          i%count;=%relation_him.index;;%nn;
          t%count;=*;%nn;
        %end;
        %incr_count;
        %if;(browsing_with_sosa_ref)
          i%count;=%sosa_ref.index;;%nn;
          %incr_count;
          i%count;=%index;;%nn;
          t%count;=0;%nn;
          %incr_count;
          i%count;=%sosa_ref.index;;%nn;
          t%count;=sosa_1;%nn;
        %else;
          i%count;=%index;;%nn;
          t%count;=0;%nn;
        %end;
        %if;has_relation_her;
          %incr_count;
          i%count;=%relation_her.index;;%nn;
          t%count;=*;%nn;
        %end;
        " title="[relationship computing]">%apply;capitalize(relation_type) :</a>%nn;
      %end;
  %end;

  %define;related_computing()
    %if;cancel_links;
      %apply;capitalize(related_type) :%nn;
    %else;
      %reset_count;
      <a href="%prefix;spouse=on;m=RLM;image=%evar.image;;%nn;
      %incr_count;
      i%count;=%related.index;;%nn;
      t%count;=%related_type;;%nn;
      %if;(browsing_with_sosa_ref)
        %incr_count;
        i%count;=%sosa_ref.index;;%nn;
        t%count;=sosa_1;%nn;
      %end;
      %incr_count;
      i%count;=%index;;%nn;
      t%count;=0;%nn;
      " title="[relationship computing]">%apply;capitalize(related_type) :</a>%nn;
    %end;
  %end;

  %define;witness_computing()
    %if;cancel_links;
      [*witness at marriage of %s and %s:::x:y] :%nn;
    %else;
      %reset_count;
      <a href="%prefix;spouse=on;m=RLM;image=%evar.image;;%nn;
      %if;(not browsing_with_sosa_ref)
        %foreach;witness_relation;
          %incr_count;%nn;
          i%count;=%witness_relation.father.index;;%nn;
          t%count;=%expr((count / 2) + 1);%nn;
          %incr_count;%nn;
          i%count;=%index;;%nn;
        %end;
        t%count;=0;%nn;
      %else;
        %foreach;witness_relation;
          %incr_count;%nn;
          i%count;=%witness_relation.father.index;;%nn;
          t%count;=%expr((count / 2) + 1);%nn;
          %incr_count;%nn;
          i%count;=%sosa_ref.index;;%nn;
        %end;
        t%count;=sosa_1;%nn;
        %incr_count;%nn;
        i%count;=%index;;%nn;
        t%count;=0;%nn;
      %end;
      "
       title="[relationship computing]">[*witness at marriage of %s and %s:::x:y] :</a>%nn;
    %end;
  %end;

  %define;age_at(xx)
    [age at %s birth date:::xx]%nn;
  %end;

  %define;max_anc_v(vv)
    %if;(max_anc_level + 1 < vv)%expr(max_anc_level + 1)%else;vv%end;%nn;
  %end;

  %define;max_desc_v(vv)
    %if;(max_desc_level < vv)%max_desc_level;%else;vv%end;%nn;
  %end;
  
  %define;nav_with_sosa_ref(xx)
    [*navigation with %t as Sosa reference:::xx]
  %end;

  %define;link_list(xx,yy)
    %if;cancel_links;yy%nn;
    %else;
      <a href="%prefix;m=NG;t=xx;n=yy" title="[search/case sensitive]0">yy</a>%nn;
    %end;
  %end;

%( <!-- End define --> %)

<body%body_prop; id="perso" onload="javascript:document.getElementById('acckey').focus();">%nn;
<div onclick="void(0);">%( the magic Safari div %)
%message_to_wizard;
%( <!-- Begin display menu --> %)
  %if;not cancel_links;
    <div class="menu">
      %if;wizard;
        <span><a href="%prefix;m=U;%access;">[*update]</a>
          <span class="s_menu">
            <a href="%prefix;m=MOD_IND;i=%index;" onclick="window.open(this.href); return false;">[*modify::person/persons]0 </a>
            %foreach;family;
              <a href="%prefix;m=MOD_FAM;i=%family.index;;ip=%index;" title="[modify::family/families]0 %family_cnt;"
                 onclick="window.open(this.href); return false;">[*modify::family/families]0 %family_cnt;</a>
            %end;
            <a href="%prefix;m=ADD_FAM;ip=%index;" onclick="window.open(this.href); return false;">[*add::family/families]0</a>
            <a href="%prefix;m=SND_IMAGE;i=%index;">[*send::image/images]0</a>
            <a href="%prefix;m=MRG;i=%index;">[*merge]0 (oc=%occ;)</a>
            <a href="%prefix;m=DEL_IND;i=%index;">[*delete::person/persons]0</a>
          </span>
        </span>
      %end;
      %if;has_parents;
        <span><a href="%prefix;m=A;%access;">%nn;
          %foreach;ancestor_level;
            %if;(level = max_anc_level)
              %number_of_ancestors;
            %end;
          %end; [ancestors]</a>
          <span class="s_menu">
            <a href="%prefix;m=A;t=T;v=%apply;max_anc_v(5);image=on;marriage=on;%access;">[*tree]</a>
            <a href="%prefix;m=A;t=F;v=%expr(max_anc_level+1);i=%index;">[*surnames list]</a>
            <a href="%prefix;m=A;t=E;v=%apply;max_anc_v(5);%access;;opt=fam;cousins=on;image=%evar.image;">[*family/families]0</a>
            <a href="%prefix;m=A;t=Z;image=%evar.image;;v=%apply;max_anc_v(8);%access;">[*table]</a>
            <a href="%prefix;m=A;t=G;v=%apply;max_anc_v(5);siblings=on;spouse=on;parents=on;alias=on;rel=on;notes=on;src=on;%access;">[*long display]</a>
          </span>
        </span>
      %end;
      %if;has_children;
        <span><a href="%prefix;m=D;%access;">%nn;
          %foreach;descendant_level;
             %if;(level = max_desc_level)
               %number_of_descendants;
             %end;
          %end; [descendants]</a>
          <span class="s_menu">
            <a href="%prefix;m=D;t=T;v=%apply;max_desc_v(4);image=on;%access">[*tree]</a>
            <a href="%prefix;m=D;t=A;v=%max_desc_level;;num=on;%access">D’Aboville</a>
            <a href="%prefix;m=D;t=L;v=%apply;max_desc_v(3);alias=on;rel=on;spouse=on;parents=on;notes=on;src=on;%access;">[*long display]</a>
          </span>
        </span>
      %end;
      <span><a href="%prefix;m=R;%access;">[*relationship computing]</a>
        <span class="s_menu">
          %if;(sosa_ref.index != "" and sosa_ref.index != index)
            <a href="%prefix;em=R;ei=%sosa_ref.index;;i=%index;;et=M;spouse=on" title="%self; …[relationship]… %sosa_ref;">[*relationship] … [Sosa] 1</a>
            <a href="%prefix;em=R;ei=%index;;m=NG;n=1;t=PN;spouse=on;image=on;bd=;color=;et=S" title="%self; …[shortest path]… %sosa_ref;">[*shortest path]</a>
          %end;
          %if;(father.has_siblings or mother.has_siblings)
            <a href="%prefix;%access;;m=C;v1=2;v2=1">[*uncles and aunts]</a>
          %end;
          %if;has_nephews_or_nieces;
            <a href="%prefix;%access;;m=C;v1=1;v2=2">[*nephews and nieces]</a>
          %end;
        </span>
      </span>
    </div>
    <div class="menu2">
      %let;wide;%if;(evar.wide != "on")wide=on;%end;%in;
      %let;symbol;%if;(evar.wide != "on")&divide;%else;&middot;|&middot;%end;%in;
      <form id="ak" method="get" action="" style="display:inline;">
        <p style="display:inline;"><input id="acckey" style="width:15px;"
         name="acckey" accesskey="W" title="[navigation] OnKeyPress (W)" value="W"
         onkeypress="javascript:return acc_key(event,'sib_1','spo_1','chi_1_1','mod_ind','add_par','add_fam','mod_fam_1');"
         %/></p>
      </form>
      <a href="%prefix;%access;;%wide;maxlev=%evar.maxlev;;image=%evar.image;;spouse=%evar.spouse;"
         title="[visualize/show/hide/summary]0">%symbol;</a>
      %if;(bvar.no_image_for_visitor != "yes" or friend or wizard)
        %if;(evar.image="on")
          <a style="text-decoration:line-through;"
           href="%prefix;%access;;wide=%evar.wide;;maxlev=%evar.maxlev;;spouse=%evar.spouse;;"
           title="- [image/images]1">img</a>
        %else;
          <a href="%prefix;%access;;wide=%evar.wide;;maxlev=%evar.maxlev;;spouse=%evar.spouse;;image=on;" title="+ [image/images]1">img</a>
        %end;
      %end;
      <a style="text-decoration:line-through;" href="%prefix;%access;;wide=%evar.wide;;maxlev=%evar.maxlev;;image=%evar.image;;spouse=%evar.spouse;;cgl=on" title="[cancel GeneWeb links]">@</a>
      %if;has_referer;
        <a href="%referer;" title="[back]">&lt;&lt;</a>
      %end;
        <a href="%prefix;" title="[visualize/show/hide/summary]3"
        >^^</a>
    </div>
  %end;
%( <!-- End display menu --> %)

<div class="person_content">
%( <!-- Begin display image, person --> %)
  <div class = "person">
    <h1 class="background_sex_%sex;%if;(has_sosa) h1_border_sosa%end;">
      %if;(has_public_name or has_qualifiers)
        %apply;link_list("PN",self)
      %else;
        %apply;link_list("P",first_name)%sp;%nn;
        %apply;link_list("N",surname)
      %end;
      <small>%apply;link_dates("self")</small>
    </h1>
    %if;has_image;
    <div>
     <a onclick="window.open(this.href); return false;" href="%image_html_url;">
       <img style="width:150px; border: 0; clear: both;" src="%image_url;" alt="[image/images]0"%/>
     </a>
    </div>
    %end;
    <p class="data1">
      %if;has_sosa;
        <em>%nn;
          %if;cancel_links;[*Sosa] : %sosa;
          %else;<a href="%prefix;m=A;t=D;image=%evar.image;;i=%sosa_ref.index;;i1=%index;;l=%max_desc_level;">[*Sosa] : %sosa;</a>%nn;
          %end;
        </em>
      %end;
      %if;has_nobility_titles;
        <br%/>
        <em>
          %foreach;nobility_title;
            %nobility_title;<br%/>
          %end;
        </em>
      %end;
      %if;(has_linked_pages and has_linked_page.HEAD)%linked_page.HEAD;<br%/>%end;
      %if;(has_nobility_titles and has_public_name)
        <br%/>%apply;link_list("PN",public_name)
      %end;
      %if;has_qualifiers;
        %apply;lazy_print("")
        <br%/>
        %foreach;qualifier;
          %( <!-- Begin personalization mickroue --> %)
            %if;is_first;
              %if;(title=", <em>Cousin</em>")
                <strong><a onclick="window.open(this.href); return false;" href="http://gw.geneanet.org/index.php3?b=%qualifier&amp;lang=fr;m=N;v=%surname;" title="Arbre en ligne sur Geneanet">Arbre en ligne</a></strong><br%/>
              %end;
            %end;
          %( <!-- End personalization mickroue --> %)
          %if;not is_first;
             %if;(lazy_printed)/%end;
             %lazy_force;
             %apply;link_list("PN",qualifier)%nn;
          %end;
        %end;
      %end;
      %if;has_aliases;
        %apply;lazy_print("")
        <br%/>
        <em><strong>%nn;
        %foreach;alias;
          %if;(lazy_printed)/%end;
          %lazy_force;
          %apply;link_list("PN",alias)%nn;
        %end;
        </strong></em>
      %end;
      %if;(has_public_name or has_qualifiers)
        <br%/>
        <em>
        (%apply;link_list("P",first_name)%sp;
        %apply;link_list("N",surname))
        </em>
      %end;
      %if;has_first_names_aliases;
        %apply;lazy_print("")
        <br%/>
        %foreach;first_name_alias;
          %if;(lazy_printed)/%end;
          %lazy_force;
          %apply;advanced("first_name",first_name_alias)%nn;
        %end;
      %end;
      %if;has_surnames_aliases;
        %apply;lazy_print("")
        <br%/>
        %foreach;surname_alias;
          %if;(lazy_printed)/%end;
          %lazy_force;
          %apply;advanced("surname",surname_alias)%nn;
        %end;
      %end;
    </p>
    <p class="data2">
      %if;has_occupation;
        <span class="highlight1">%apply;advanced%with;occu%and;%apply;capitalize(occupation)%end;</span><br%/>
      %end;
      %if;(has_linked_pages and has_linked_page.OCCU)
           %linked_page.OCCU;<br%/>
      %end;
      %if;has_birth_date;
        %apply;capitalize(nth([born],sex)) %on_birth_date;
        %if;birthday; ([happy birthday to you!])%end;
        %if;has_birth_place; [in (place)] %apply;advanced("birth_place",birth_place)%end;<br%/>
      %else;
        %if;has_birth_place;
          %apply;capitalize(nth([born],sex)) [in (place)] %apply;advanced("birth_place",birth_place)<br%/>
        %end;
      %end;
      %if;(father_age_at_birth != "" or mother_age_at_birth != "")
           (%nn;
            %if;(father_age_at_birth!="")[father/mother]0 %father_age_at_birth;%nn;
              %if;(mother_age_at_birth!=""), %end;
            %end;
            %if;(mother_age_at_birth!="")[father/mother]1 %mother_age_at_birth;%end;
            )<br%/>
      %end;
      %if;has_baptism_date;
        %apply;capitalize(nth([baptized],sex)) %on_baptism_date;
        %if;has_baptism_place; [in (place)] %apply;advanced("bapt_place",baptism_place)%end;<br%/>
      %else;
        %if;has_baptism_place;
          %apply;capitalize(nth([baptized],sex)) [in (place)] %apply;advanced("bapt_place",baptism_place)<br%/>
        %end;
      %end;
      %if;is_dead;
        %apply;capitalize(died)
        %if;has_death_date; %on_death_date;%end;
        %if;has_death_place; [in (place)] %apply;advanced("death_place",death_place)%end;<br%/>
        %if;computable_death_age;
             [age at death:] %death_age;<br%/>
        %end;
        %if;has_linked_page.DEATH;
             %linked_page.DEATH;<br%/>
        %end;
        %if;is_buried;
          %apply;capitalize(nth([buried],sex))
          %if;has_burial_date; %on_burial_date;%end;
          %if;has_burial_place; [in (place)] %apply;advanced("burial_place",burial_place)%end;<br%/>
        %end;
        %if;is_cremated;
          %apply;capitalize(nth([cremated],sex))
          %if;has_cremation_date; %on_cremation_date;%end;
          %if;has_cremation_place;, %cremation_place;%end;<br%/>
        %end;
      %end;
      %if;computable_age;
        [*age] : %age;<br%/>
      %end;
      %if;(has_consanguinity and (bvar.show_consang != "no" or manitou))
        <br%/>
        %if;(cancel_links)
          [*consanguinity] : %consanguinity;
        %else;
          <a href="%prefix;em=R;ei=%mother.index;;m=NG;t=PN;select=%father.index;;et=A;spouse=on;image=on"  title="[relationship computing], [parents]">[*consanguinity] : %consanguinity;</a>
        %end;
      %end;
      %reset_count;
      %foreach;ancestor_level
        %foreach;ancestor
          %if;(ancestor.same != "")
            %incr_count;
          %end;
        %end;
      %end;
      %if;(count != 0)
        <br%/>
        %if;(not cancel_links)
          <a href="%prefix;m=A;t=N;v=%expr(max_anc_level+1);i=%index;;same=%count;">
           [*display smallest sosa number relative to ancestor] : %count;
          </a>
        %else;
          [*display smallest sosa number relative to ancestor] : %count;
        %end;
      %end;
    </p>
    %if;(not cancel_links and has_linked_pages)
      <small style = "float: right;">
        (<a href="%prefix;m=LINKED;%access;">[linked pages]</a>)
      </small>
    %end;
  </div>
%( <!-- End display image, person --> %)
  %if;(bvar.var_img_ext != "" and (has_linked_pages or wizard))
    %include.inc_mickroue2;
  %end;
%( <!-- Begin display notes, relations, sources --> %)
    %if;(has_notes or has_linked_pages)
      %if;(has_notes or has_linked_page.BNOTE or has_linked_page.NOTE)
      <div class = "notes">
        <h3>[*note/notes]1</h3>
        <dl><dd>
          %if;(has_linked_page.BNOTE)
            <p>&gt;&gt; %linked_page.BNOTE;</p>
          %end;
          %notes;
        </dd></dl>
      </div>
      %end;
    %end;
    %if;(has_relations and bvar.var_photo != "on")
      <div class = "relations">
        <h3>[*relation/relations]1</h3>
        <ul class="list_no_style">
          %foreach;relation;
            <li class="sheet"><em>%apply;relation_computing()</em>
              <ul class="list_no_style">
                %if;has_relation_him;
                  <li class="border_family_1 border_sex_0">%apply;somebody("relation_him")</li>
                %end;
                %if;has_relation_her;
                  <li class="border_family_1 border_sex_1">%apply;somebody("relation_her")</li>
                %end;
              </ul>
            </li>
          %end;
          %foreach;related;
              <li class="sheet"><em>%apply;related_computing()</em>
                <ul class="list_no_style">
                  <li class="border_family_1 border_sex_%related.sex;">%apply;somebody("related")</li>
                </ul>
              </li>
          %end;
          %reset_count;
          %foreach;witness_relation;
            %if;(count = 0)
              <li class="sheet"><em>%apply;witness_computing()</em>
              <table class="t_witness" summary="[witness at marriage of %s and %s:::x:y]">
            %end;
            <tr>
              <td>%apply;somebody("witness_relation.father")</td>
              <td>%apply;link_marriage("witness_relation.father")</td>
              <td>%apply;somebody("witness_relation.mother")</td>
            </tr>
            %incr_count;
          %end;
          %if;(count > 0)
            </table>
            %if;(count > 5)
              <em>[*total] : %count;</em>
            %end;
            </li>
          %end;
        </ul>
      </div>
    %end;
    %if;(bvar.var_photo = "on" and has_relations)
      %include.inc_mickroue1;
    %end;
    %if;(has_sources or has_linked_page.BIBLIO)
      <div class = "sources">
        <h3>[*source/sources]1</h3>
        <ul>
          %if;(has_linked_page.BIBLIO)<li>&gt;&gt; %linked_page.BIBLIO;</li>%end;
          %foreach;source;
            <li>%source_type; : %source;</li>
          %end;
        </ul>
      </div>
    %end;
%( <!-- End display notes, relations, sources --> %)
</div>

%( <!-- Begin display families --> %)
    %apply;anc_families()
    %if;has_families;
      <div class="fam fam1">
        <h3>[*marriage/marriages]1 [and::child/children]1%nn;
          %if;(evar.maxlev > 0)
            … [the grandchildren]%nn;
          %end;
          %if;(evar.maxlev > 1)
            … [the great-grandchildren]%nn;
          %end;
          %if;(evar.maxlev > 2)
            …
          %end;
          %if;(not cancel_links)
          <span class="menu3">
            <a href="%prefix;%access;;wide=%evar.wide;;maxlev=%expr(evar.maxlev+1);image=%evar.image;;spouse=%evar.spouse;" title="[visualize/show/hide/summary]1 [descendants] : %expr(evar.maxlev+2)">…</a>
            %if;(evar.maxlev > 0)
               <a style="text-decoration:line-through;" href="%prefix;%access;;wide=%evar.wide;;maxlev=0;image=%evar.image;;spouse=%evar.spouse;" title="[visualize/show/hide/summary]2 [descendants]">…</a>
            %end;
            %if;(evar.spouse = "off")
              <a href="%prefix;%access;;wide=%evar.wide;;maxlev=%evar.maxlev;;image=%evar.image;;" title="[include spouses]">&hearts;</a>
            %else;
              <a style="text-decoration:line-through;" href="%prefix;%access;;wide=%evar.wide;;maxlev=%evar.maxlev;;image=%evar.image;;spouse=off;" title="[spouses not included]">&hearts;</a>
            %end;
          </span>
          %end;
        </h3>
        <ol>
        %foreach;family;
          <li>
            %if;(wizard and not cancel_links)
              %if;(family_cnt != 1)
                <a class="button" href="%prefix;m=INV_FAM;i=%index;;f=%family.index;
                " title="[invert] [family/families]0">^</a>
                %if;(family.father.index = prev_family.father.index
                  and family.mother.index = prev_family.mother.index)
                  <a class="button" href=%nn;
                  "%prefix;m=MRG_FAM;i=%prev_family.index;;i2=%family.index;
                  ;ip=%index;">%nn;
                  [*merge::]</a>
                %end;
              %end;
            %end;
            %apply;content_family("self","spouse")
            %if;(evar.opt = "from" and wizard)<em>(%origin_file;)</em>%nl;%end;
          </li>
        %end;
        </ol>
      </div>
    %else;
      %if;(wizard and not cancel_links)
        <div class="fam fam1">
          %if;((first_name = "?" or surname = "?") and
            (nb_families != 0 or has_parents))
          %elseif;(not is_male and not is_female)
            <a class="button" href="%prefix;m=ADD_FAM;ip=%index;;sex=M" onclick="window.open(this.href); return false;">%nn;
            [*add::family/families]0 ([M/F]0)</a>
            <br%/>
            <a class="button" href="%prefix;m=ADD_FAM;ip=%index;;sex=F" onclick="window.open(this.href); return false;">%nn;
            [*add::family/families]0 ([M/F]1)</a>
            <br%/>
          %else;
            <a class="button" href="%prefix;m=ADD_FAM;ip=%index;" title="[add::family/families]0 (A)" onclick="window.open(this.href); return false;">[*add::family/families]0 (A)</a>
            <br%/>
          %end;
        </div>
      %end;
    %end;
%( <!-- End display families --> %)
%( <!-- Begin display menu --> %)
  %if;not cancel_links;
    <div class="menu1">
      %if;wizard;
        <span><a href="%prefix;m=U;%access;" title="[update] (U)" accesskey="U">[*update] (U)</a>
          <span class="s_menu">
            <a id="mod_ind" href="%prefix;m=MOD_IND;i=%index;" title="[modify::person/persons]0 (P)" accesskey="P" onclick="window.open(this.href); return false;">[*modify::person/persons]0 (P)</a>
              %foreach;family;
                %if;(family_cnt < 4)
                  %let;a_k;%if;(family_cnt = 1)F%elseif;(family_cnt = 2)G%elseif;(family_cnt = 3)H%end;%in;
                  <a id="mod_fam_%family_cnt;" href="%prefix;m=MOD_FAM;i=%family.index;;ip=%index;" title="[modify::family/families]0 %family_cnt; (%a_k;)"
                     accesskey="%a_k;" onclick="window.open(this.href); return false;">[*modify::family/families]0 %family_cnt; (%a_k;)</a>
                %else;
                  <a id="mod_fam_%family_cnt;" href="%prefix;m=MOD_FAM;i=%family.index;;ip=%index;" title="[modify::family/families]0 %family_cnt;"
                     onclick="window.open(this.href); return false;">[*modify::family/families]0 %family_cnt;</a>          
                %end;
              %end;
            <a id="add_fam" href="%prefix;m=ADD_FAM;ip=%index;" title="[add::family/families]0 (A)" accesskey="A" onclick="window.open(this.href); return false;">[*add::family/families]0 (A)</a>
            <a id="snd_image" href="%prefix;m=SND_IMAGE;i=%index;" title="[send::image/images]0 (I)" accesskey="I">[*send::image/images]0 (I)</a>
            <a href="%prefix;m=MRG;i=%index;">[*merge]0 (oc=%occ;)</a>
            <a href="%prefix;m=DEL_IND;i=%index;">[*delete::person/persons]0</a>
          </span>
        </span>
      %end;
      %if;has_parents;
        <span><a href="%prefix;m=A;%access;">[*ancestors]</a>
          <span class="s_menu">
            <a href="%prefix;m=A;t=T;v=%apply;max_anc_v(5);image=on;marriage=on;%access;">[*tree]</a>
            <a href="%prefix;m=A;t=F;v=%expr(max_anc_level+1);i=%index;">[*surnames list]</a>
            <a href="%prefix;m=A;t=E;v=%apply;max_anc_v(5);%access;;opt=fam;cousins=on;image=%evar.image;">[*family/families]0</a>
            <a href="%prefix;m=A;t=Z;image=%evar.image;;v=%apply;max_anc_v(8);%access;">[*table]</a>
            <a href="%prefix;m=A;t=G;v=%apply;max_anc_v(5);siblings=on;spouse=on;parents=on;alias=on;rel=on;notes=on;src=on;%access;">[*long display]</a>
          </span>
        </span>
      %end;
      %if;has_children;
        <span><a href="%prefix;m=D;%access;">[*descendants]</a>
          <span class="s_menu">
            <a href="%prefix;m=D;t=T;v=%apply;max_desc_v(4);image=on;%access">[*tree]</a>
            <a href="%prefix;m=D;t=A;v=%max_desc_level;;num=on;%access">D’Aboville</a>
            <a href="%prefix;m=D;t=L;v=%apply;max_desc_v(3);alias=on;rel=on;spouse=on;parents=on;notes=on;src=on;%access;">[*long display]</a>
          </span>
        </span>
      %end;
      <span><a id="rela_comp" href="%prefix;m=R;%access;" title="[relationship computing] (R)" accesskey="R" >[*relationship computing] (R)</a>
        <span class="s_menu">
          %if;(sosa_ref.index != "" and sosa_ref.index != index)
            <a href="%prefix;em=R;ei=%sosa_ref.index;;i=%index;;et=M;spouse=on" title="%self; …[relationship]… %sosa_ref;">[*relationship] … [Sosa] 1</a>
            <a href="%prefix;em=R;ei=%index;;m=NG;n=1;t=PN;spouse=on;image=on;bd=;color=;et=S" title="%self; …[shortest path]… %sosa_ref;">
            [*shortest path]</a>
          %end;
          %if;(father.has_siblings or mother.has_siblings)
            <a href="%prefix;%access;;m=C;v1=2;v2=1">[*uncles and aunts]</a>
          %end;
          %if;has_nephews_or_nieces;
            <a href="%prefix;%access;;m=C;v1=1;v2=2">[*nephews and nieces]</a>
          %end;
        </span>
      </span>
    </div>
  %end;
%( <!-- End display menu --> %)
  %if;(not cancel_links and (not browsing_with_sosa_ref or sosa_ref.index!=index))
    <ul style="clear: both;"><li>
    %apply;nav_with_sosa_ref%with;
      <a class="highlight" href="%prefix_no_iz;iz=%self.index;;%self.access;">%self;</a>
    %end;
    </li></ul>
  %end;
  %if;(not cancel_links and wizard and (evar.opt = "misc" or bvar.misc = "on"))
    <div id="misc">
      <form name="syntax" method="get" action="">
        <ul>
          <li><label>wiki : <input onclick="javascript: this.select();" type="text" name="wiki" size="80"
               value="%[%[%first_name_key;/%surname_key;/%occ;/%self;%]%]"%/></label></li>
          <li><label>index : <input onclick="javascript: this.select();" type="text" name="index" size="20"
              value="i=%index;"%/></label></li>
          <li><label>key : <input onclick="javascript: this.select();" type="text" name="key" size="50"
              value="p=%first_name_key;;n=%surname_key;;oc=%occ;"%/></label></li>
          <li><label>[text] : <input onclick="javascript: this.select();" type="text" name="key" size="50"
              value="%first_name_key;_%surname_key;_%occ;"%/></label></li>
        </ul>
      </form>
      %misc_names;
    </div>
  %end;
  <div style="clear: both;">
    %base_trailer;
    %copyright;
  </div>
</div>%( the magic Safari div %)
</body>
</html>